<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Alunos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body class="bg-light">

    <header>
      <nav class="navbar navbar-expand-lg navbar-dark bg-success">
        <div class="container-fluid justify-content-center">
          <span class="navbar-brand mb-0 h1 mx-3 text-gray"> SIGAA 2 - Sistemas de Gerenciamento de Alunos </span>
        </div>
      </nav>
    </header>

    <div class="card p-4 mb-4 shadow-sm">
        <form action="" method="POST">
            {% csrf_token %} <!-- módulo de segurança contra scripts -->
            <input type="hidden" name="matricula" value="{{ aluno_editar|default:'' }}">

            <div class="p-4 row g-3">

                <div class="col-12">
                    <label for="inputAddress2" class="form-label">Matrícula</label>
                    <input type="number" name="matricula_aluno"class="form-control" value="{{ aluno_editar.matricula_aluno|default:'' }}" required>
                </div>

                <div class="col-md-6">
                    <label for="inputPassword4" class="form-label">Nome</label>
                    <input type="text" name="nome_aluno" class="form-control" value="{{ aluno_editar.nome_aluno|default:'' }}" required>
                </div>

                <div class="col-12">
                    <label for="inputAddress" class="form-label">Sobrenome</label>
                    <input type="text" name="sobrenome_aluno"class="form-control" value="{{ aluno_editar.sobrenome_aluno|default:'' }}" required>
                </div>
                  <div class="col-md-6">
                    <label for="inputEmail4" class="form-label">Email</label>
                    <input type="email" name="email_aluno" class="form-control" value="{{ aluno_editar.email_aluno|default:'' }}" required>
                </div>
                <div class="col-md-6">
                    <label for="inputCity" class="form-label">Data de Nascimento</label>
                    <input type="date" name="data_nascimento_aluno" class="form-control" value="{{ aluno_editar.data_nascimento_aluno|date:'Y-m-d' }}" required>

                </div>
                <div class="col-md-6">
                    <label for="inputCity" class="form-label">Endereço</label>
                    <input type="text" name="endereco_aluno" class="form-control" value="{{ aluno_editar.endereco_aluno|default:'' }}" required>
                </div>
                <div class="col-md-6">
                    <label for="inputCity" class="form-label">Telefone</label>
                    <input type="number" name="telefone_aluno" class="form-control" value="{{ aluno_editar.telefone_aluno|default:'' }}" required>
                </div>
                <div class="col-md-4">
                    <label for="inputState" class="form-label">Curso</label>
                    <select id="inputState" name="curso_aluno" class="form-select" required>
                      <option value="" disabled {% if not aluno_editar.curso_aluno %}selected{% endif %}>Escolha...</option>
                      <option {% if aluno_editar.curso_aluno == "Analise e Desenvolvimento de sistemas" %}selected{% endif %}>Analise e Desenvolvimento de sistemas</option>
                      <option {% if aluno_editar.curso_aluno == "Engenharia Mecânica" %}selected{% endif %}>Engenharia Mecânica</option>
                      <option {% if aluno_editar.curso_aluno == "Psicologia" %}selected{% endif %}>Psicologia</option>
                      <option {% if aluno_editar.curso_aluno == "Medicina" %}selected{% endif %}>Medicina</option>
                      <option {% if aluno_editar.curso_aluno == "Direito" %}selected{% endif %}>Direito</option>
                      <option {% if aluno_editar.curso_aluno == "Administração" %}selected{% endif %}>Administração</option>
                    </select>

                </div>
            </div>
            <div class="col-12">
                <button type="submit" class="btn border border-success text-success bg-white">{% if aluno_editar %}Salvar {% else %} Cadastrar {% endif %}</button>
            </div>
        </form>
    </div>

    <!-- Cadastro de alunos -->
     <div class="card p-4 shadow-sm">
          <h6 class="mb-3">Cadastro de Alunos</h6>

          <table class="table table-striped table-hover">
            <tr>
              <th>Matrícula</th>
              <th>Nome</th>
              <th>Sobrenome</th>
              <th>Email</th>
              <th>Data de Nascimento</th>
              <th>Endereço</th>
              <th>Telefone</th>
              <th>Curso</th>
              <th>Ações</th>
            </tr>
            <!--abrir o for-->
            {% for aluno in alunos %}
              <tr>
                <td>{{ aluno.matricula }}</td>
                <td>{{ aluno.nome }}</td>
                <td>{{ aluno.sobrenome }}</td>
                <td>{{ aluno.email }}</td>
                <td>{{ aluno.data_nascimento }}</td>
                <td>{{ aluno.endereco }}</td>
                <td>{{ aluno.telefone }}</td>
                <td>{{ aluno.curso }}</td>
                <td>
                  <!-- aqui ações de edição e exclusão -->
                </td>
              </tr>
            {% empty %}
            </table>
            <tr>
              <td colspan="5" class="text-center">Nenhum aluno cadastrado.</td>
            </tr>
            <!--fechar o for-->
            {% endfor %}
        </div>
    </div>


</body>
</html>